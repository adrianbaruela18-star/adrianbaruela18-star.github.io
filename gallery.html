<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neural Gallery 2026 - Adrian Dela Cruz</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap');
    
    /* 2026 Gallery Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #0a0a0a 100%);
      color: #ffffff;
      overflow-x: hidden;
      position: relative;
      min-height: 100vh;
    }
    
    /* Neural Background Video Enhancement */
    #urvid {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
      opacity: 0.7;
      filter: hue-rotate(90deg) saturate(1.3) brightness(1.1);
    }
    
    /* Holographic Overlay */
    .holo-video-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -2;
      background: 
        linear-gradient(45deg, transparent 48%, rgba(0, 255, 255, 0.03) 49%, rgba(0, 255, 255, 0.03) 51%, transparent 52%),
        linear-gradient(-45deg, transparent 48%, rgba(255, 0, 255, 0.03) 49%, rgba(255, 0, 255, 0.03) 51%, transparent 52%),
        radial-gradient(circle at 30% 40%, rgba(0, 255, 127, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 70% 60%, rgba(255, 255, 0, 0.1) 0%, transparent 50%);
      background-size: 30px 30px, 30px 30px, 200px 200px, 200px 200px;
      animation: holoScanGallery 4s linear infinite, holoShift 8s ease-in-out infinite;
    }
    
    @keyframes holoScanGallery {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100vh); }
    }
    
    @keyframes holoShift {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.6; }
    }
    
    /* Cyber Header */
    .headerbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: rgba(10, 10, 10, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 2px solid rgba(0, 255, 255, 0.3);
      padding: 1rem 2rem;
      box-shadow: 0 4px 30px rgba(0, 255, 255, 0.1);
    }
    
    .headerbar h2 {
      font-family: 'JetBrains Mono', monospace !important;
      font-size: 1.5rem !important;
      background: linear-gradient(45deg, #00ffff, #ff00ff, #00ff7f);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin: 0 !important;
      animation: titleGlow 3s ease-in-out infinite;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    
    @keyframes titleGlow {
      0%, 100% { filter: drop-shadow(0 0 10px rgba(0, 255, 255, 0.5)); }
      50% { filter: drop-shadow(0 0 20px rgba(255, 0, 255, 0.8)); }
    }
    
    .nav-links {
      display: flex;
      gap: 1rem;
    }
    
    .nav-link {
      position: relative;
      color: #ffffff !important;
      text-decoration: none;
      padding: 0.8rem 1.5rem;
      background: rgba(0, 255, 255, 0.1);
      border: 1px solid rgba(0, 255, 255, 0.3);
      clip-path: polygon(10px 0, 100% 0, calc(100% - 10px) 100%, 0 100%);
      transition: all 0.3s ease;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      overflow: hidden;
    }
    
    .nav-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }
    
    .nav-link:hover::before {
      left: 100%;
    }
    
    .nav-link:hover {
      background: rgba(0, 255, 255, 0.2);
      border-color: #00ffff;
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
    }
    
    .nav-link.active {
      background: rgba(255, 0, 255, 0.2);
      border-color: #ff00ff;
      box-shadow: 0 0 20px rgba(255, 0, 255, 0.5);
    }
    
    /* Neural Slideshow Container */
    .slideshow-container-clean {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 120px 20px 200px;
      position: relative;
    }
    
    .slideshow-clean {
      position: relative;
      width: 100%;
      max-width: 1000px;
      margin: 0 auto;
      background: rgba(0, 0, 0, 0.3);
      border: 2px solid rgba(0, 255, 255, 0.4);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 
        0 0 50px rgba(0, 255, 255, 0.3),
        inset 0 0 50px rgba(0, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      animation: slideshowPulse 4s ease-in-out infinite;
    }
    
    @keyframes slideshowPulse {
      0%, 100% { 
        border-color: rgba(0, 255, 255, 0.4);
        box-shadow: 0 0 50px rgba(0, 255, 255, 0.3), inset 0 0 50px rgba(0, 255, 255, 0.1);
      }
      50% { 
        border-color: rgba(255, 0, 255, 0.6);
        box-shadow: 0 0 80px rgba(255, 0, 255, 0.4), inset 0 0 80px rgba(255, 0, 255, 0.2);
      }
    }
    
    /* Slides with Spice Overlays */
    .slide {
      width: 100%;
      height: 600px;
      object-fit: cover;
      display: none;
      position: relative;
      transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      filter: contrast(1.1) saturate(1.2);
    }
    
    .slide.active {
      display: block;
      animation: slideReveal 1s ease-out;
    }
    
    @keyframes slideReveal {
      0% { 
        opacity: 0; 
        transform: scale(1.1) rotateY(10deg);
        filter: blur(5px);
      }
      100% { 
        opacity: 1; 
        transform: scale(1) rotateY(0deg);
        filter: blur(0px);
      }
    }
    
    /* Dynamic Spice Overlays */
    .slide::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(
        45deg,
        rgba(0, 255, 255, 0.15) 0%,
        rgba(255, 0, 255, 0.15) 25%,
        rgba(0, 255, 127, 0.15) 50%,
        rgba(255, 255, 0, 0.15) 75%,
        rgba(255, 0, 150, 0.15) 100%
      );
      background-size: 400% 400%;
      animation: spiceDance 6s ease-in-out infinite;
      mix-blend-mode: overlay;
      pointer-events: none;
      opacity: 0.8;
    }
    
    .slide:nth-child(odd)::after {
      animation: spiceDance 8s ease-in-out infinite reverse;
      background: linear-gradient(
        90deg,
        rgba(255, 100, 0, 0.2) 0%,
        rgba(0, 255, 200, 0.2) 30%,
        rgba(255, 0, 100, 0.2) 60%,
        rgba(100, 255, 0, 0.2) 100%
      );
    }
    
    .slide:nth-child(even)::after {
      animation: spiceDance 7s ease-in-out infinite;
      background: linear-gradient(
        135deg,
        rgba(200, 0, 255, 0.18) 0%,
        rgba(0, 255, 150, 0.18) 40%,
        rgba(255, 200, 0, 0.18) 80%,
        rgba(0, 150, 255, 0.18) 100%
      );
    }
    
    @keyframes spiceDance {
      0%, 100% { 
        background-position: 0% 50%;
        opacity: 0.6;
      }
      25% { 
        background-position: 100% 0%;
        opacity: 0.9;
      }
      50% { 
        background-position: 100% 100%;
        opacity: 0.7;
      }
      75% { 
        background-position: 0% 100%;
        opacity: 0.8;
      }
    }
    
    /* Enhanced Navigation Buttons */
    .slide-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 255, 255, 0.2);
      color: #00ffff;
      border: 2px solid #00ffff;
      padding: 20px 25px;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.4s ease;
      backdrop-filter: blur(10px);
      z-index: 10;
      font-family: 'JetBrains Mono', monospace;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    }
    
    .slide-btn:hover {
      background: rgba(255, 0, 255, 0.3);
      border-color: #ff00ff;
      color: #ff00ff;
      transform: translateY(-50%) scale(1.1);
      box-shadow: 0 0 30px rgba(255, 0, 255, 0.5);
    }
    
    .prev-btn {
      left: 20px;
      clip-path: polygon(0 0, 80% 0, 100% 50%, 80% 100%, 0 100%);
    }
    
    .next-btn {
      right: 20px;
      clip-path: polygon(20% 0, 100% 0, 100% 100%, 20% 100%, 0 50%);
    }
    
    /* Enhanced Indicators */
    .slide-indicators-clean {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 12px;
      z-index: 10;
      background: rgba(0, 0, 0, 0.4);
      padding: 15px 25px;
      border-radius: 30px;
      backdrop-filter: blur(15px);
      border: 1px solid rgba(0, 255, 255, 0.3);
      max-width: 90%;
      overflow-x: auto;
      scrollbar-width: none;
    }
    
    .slide-indicators-clean::-webkit-scrollbar {
      display: none;
    }
    
    .indicator {
      width: 15px;
      height: 15px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      cursor: pointer;
      transition: all 0.4s ease;
      border: 2px solid transparent;
      position: relative;
      flex-shrink: 0;
    }
    
    .indicator::before {
      content: '';
      position: absolute;
      top: -3px;
      left: -3px;
      right: -3px;
      bottom: -3px;
      border-radius: 50%;
      background: linear-gradient(45deg, #00ffff, #ff00ff);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: -1;
    }
    
    .indicator:hover {
      background: rgba(0, 255, 255, 0.7);
      transform: scale(1.3);
      box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
    }
    
    .indicator:hover::before {
      opacity: 1;
    }
    
    .indicator.active {
      background: #00ffff;
      transform: scale(1.4);
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.8);
      border-color: #ff00ff;
    }
    
    .indicator.active::before {
      opacity: 1;
    }
    
    /* Enhanced Info Displays */
    .image-counter-clean {
      position: absolute;
      top: 25px;
      left: 25px;
      background: rgba(0, 255, 255, 0.2);
      color: #00ffff;
      padding: 12px 20px;
      border-radius: 25px;
      font-size: 16px;
      font-weight: 600;
      backdrop-filter: blur(15px);
      border: 2px solid rgba(0, 255, 255, 0.4);
      font-family: 'JetBrains Mono', monospace;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
      animation: counterGlow 3s ease-in-out infinite;
    }
    
    @keyframes counterGlow {
      0%, 100% { border-color: rgba(0, 255, 255, 0.4); }
      50% { border-color: rgba(255, 0, 255, 0.6); }
    }
    
    .format-indicator-clean {
      position: absolute;
      top: 25px;
      right: 25px;
      background: linear-gradient(45deg, rgba(255, 0, 255, 0.3), rgba(0, 255, 127, 0.3));
      color: #ffffff;
      padding: 12px 20px;
      border-radius: 25px;
      font-size: 14px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 2px;
      border: 2px solid rgba(255, 0, 255, 0.5);
      font-family: 'JetBrains Mono', monospace;
      box-shadow: 0 0 20px rgba(255, 0, 255, 0.4);
      animation: formatPulse 2s ease-in-out infinite;
    }
    
    @keyframes formatPulse {
      0%, 100% { transform: scale(1); opacity: 0.9; }
      50% { transform: scale(1.05); opacity: 1; }
    }
    
    /* Enhanced Controls */
    .content-clean {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(20px);
      border-top: 2px solid rgba(0, 255, 255, 0.3);
      padding: 20px;
      z-index: 100;
      box-shadow: 0 -10px 40px rgba(0, 255, 255, 0.2);
    }
    
    .control-buttons-clean {
      display: flex;
      gap: 15px;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
    }
    
    #pause_button, #slideshow_toggle, #fullscreen_btn, #download_btn {
      padding: 12px 24px;
      font-size: 14px;
      border: 2px solid #00ffff;
      background: rgba(0, 255, 255, 0.1);
      color: #00ffff;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'JetBrains Mono', monospace;
      text-transform: uppercase;
      letter-spacing: 1px;
      clip-path: polygon(0 0, calc(100% - 12px) 0, 100% 12px, 100% 100%, 12px 100%, 0 calc(100% - 12px));
      position: relative;
      overflow: hidden;
    }
    
    #pause_button::before, #slideshow_toggle::before, 
    #fullscreen_btn::before, #download_btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }
    
    #pause_button:hover::before, #slideshow_toggle:hover::before,
    #fullscreen_btn:hover::before, #download_btn:hover::before {
      left: 100%;
    }
    
    #pause_button:hover, #slideshow_toggle:hover, 
    #fullscreen_btn:hover, #download_btn:hover {
      background: rgba(255, 0, 255, 0.2);
      border-color: #ff00ff;
      color: #ff00ff;
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255, 0, 255, 0.4);
    }
    
    .home-btn {
      padding: 12px 24px;
      background: linear-gradient(45deg, rgba(255, 100, 0, 0.2), rgba(255, 0, 150, 0.2));
      color: #ff6b6b;
      text-decoration: none;
      border: 2px solid #ff6b6b;
      transition: all 0.3s ease;
      font-family: 'JetBrains Mono', monospace;
      text-transform: uppercase;
      letter-spacing: 1px;
      clip-path: polygon(0 0, calc(100% - 12px) 0, 100% 12px, 100% 100%, 12px 100%, 0 calc(100% - 12px));
      position: relative;
      overflow: hidden;
    }
    
    .home-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }
    
    .home-btn:hover::before {
      left: 100%;
    }
    
    .home-btn:hover {
      background: linear-gradient(45deg, rgba(255, 0, 150, 0.3), rgba(255, 100, 0, 0.3));
      border-color: #ff00ff;
      color: #ff00ff;
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255, 0, 255, 0.4);
    }
    
    /* Neural Particles */
    .neural-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      overflow: hidden;
    }
    
    .neural-particle {
      position: absolute;
      width: 3px;
      height: 3px;
      background: #00ffff;
      border-radius: 50%;
      animation: neuralFloat 12s linear infinite;
    }
    
    .neural-particle:nth-child(odd) {
      background: #ff00ff;
      animation-duration: 15s;
    }
    
    .neural-particle:nth-child(3n) {
      background: #00ff7f;
      animation-duration: 18s;
    }
    
    @keyframes neuralFloat {
      0% {
        transform: translateY(100vh) translateX(0) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100px) translateX(100px) rotate(360deg);
        opacity: 0;
      }
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .headerbar {
        padding: 1rem;
        flex-direction: column;
        gap: 1rem;
      }
      
      .nav-links {
        justify-content: center;
        flex-wrap: wrap;
        gap: 0.5rem;
      }
      
      .nav-link {
        padding: 0.6rem 1rem;
        font-size: 0.8rem;
      }
      
      .slideshow-container-clean {
        padding: 100px 10px 180px;
      }
      
      .slideshow-clean {
        max-width: 95%;
      }
      
      .slide {
        height: 400px;
      }
      
      .slide-btn {
        padding: 15px 20px;
        font-size: 20px;
      }
      
      .control-buttons-clean {
        flex-direction: column;
        gap: 10px;
      }
      
      .control-buttons-clean button,
      .home-btn {
        width: 100%;
        max-width: 300px;
      }
      
      .image-counter-clean,
      .format-indicator-clean {
        font-size: 12px;
        padding: 8px 15px;
        top: 15px;
      }
      
      .image-counter-clean {
        left: 15px;
      }
      
      .format-indicator-clean {
        right: 15px;
      }
    }
    
    @media (max-width: 480px) {
      .slide {
        height: 300px;
      }
      
      .headerbar h2 {
        font-size: 1.2rem !important;
      }
      
      .slide-indicators-clean {
        padding: 10px 15px;
        bottom: 20px;
      }
      
      .indicator {
        width: 12px;
        height: 12px;
      }
    }
  </style>
</head>
<body>
  <!-- Enhanced Background video -->
  <video autoplay muted loop id="urvid" playsinline>
    <source src="ACT12_BARUELA/21.mp4" type="video/mp4">
    <source src="ACT12_BARUELA/21.webm" type="video/webm">
    <source src="ACT12_BARUELA/21.ogv" type="video/ogg">
    Your browser does not support the video tag.
  </video>
  
  <!-- Holographic Video Overlay -->
  <div class="holo-video-overlay"></div>
  
  <!-- Neural Particles -->
  <div class="neural-particles" id="neural-particles"></div>
  
  <!-- Cyber Header Navigation -->
  <div class="headerbar">
    <h2>NEURAL_GALLERY.EXE</h2>
    <nav class="nav-links">
      <a href="index.html" class="nav-link">01_HOME</a>
      <a href="baruela_resume.html" class="nav-link">02_RESUME</a>
      <a href="gallery.html" class="nav-link active">03_GALLERY</a>
    </nav>
  </div>
  
  <!-- Enhanced Slideshow Container -->
  <main class="slideshow-container-clean">
    <div class="slideshow-clean" id="main-slideshow">
      <!-- Images will be dynamically loaded here with spice overlays -->
      
      <!-- Enhanced Navigation arrows -->
      <button class="slide-btn prev-btn" onclick="changeSlide(-1)" aria-label="Previous image">❮</button>
      <button class="slide-btn next-btn" onclick="changeSlide(1)" aria-label="Next image">❯</button>
      
      <!-- Enhanced Slide indicators -->
      <div class="slide-indicators-clean" id="indicators-container">
        <!-- Indicators will be added dynamically -->
      </div>
      
      <!-- Enhanced Image counter -->
      <div class="image-counter-clean">
        <span id="current-image">1</span> / <span id="total-images">0</span>
      </div>
      
      <!-- Enhanced Format indicator -->
      <div class="format-indicator-clean" id="format-indicator">
        <span id="current-format">JPG</span>
      </div>
    </div>
  </main>
 
  <!-- Enhanced Controls -->
  <div class="content-clean">
    <div class="control-buttons-clean">
      <button id="pause_button" onclick="toggleVideo()">PAUSE_VIDEO</button>
      <button id="slideshow_toggle" onclick="toggleSlideshow()">PAUSE_SLIDES</button>
      <button id="fullscreen_btn" onclick="toggleFullscreen()">FULLSCREEN</button>
      <button id="download_btn" onclick="downloadCurrentImage()">DOWNLOAD</button>
      <a href="index.html" class="home-btn">← RETURN_HOME</a>
    </div>
  </div>

  <script>
    // Enhanced image support configuration
    const IMAGE_CONFIG = {
      // Default images in ACT12_BARUELA folder
      defaultImages: [
        { src: 'ACT12_BARUELA/1.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/2.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/3.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/4.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/5.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/6.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/7.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/8.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/9.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/10.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/11.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/12.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/13.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/14.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/15.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/16.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/17.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/18.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/19.jpg', format: 'JPG' },
        { src: 'ACT12_BARUELA/20.jpg', format: 'JPG' }
      ]
    };

    // Global variables
    let currentSlide = 0;
    let imageList = [];
    let isPlaying = true;
    let autoTimer = null;

    // Neural particle system
    function createNeuralParticle() {
      const particle = document.createElement('div');
      particle.className = 'neural-particle';
      particle.style.left = Math.random() * 100 + '%';
      particle.style.animationDelay = Math.random() * 5 + 's';
      
      document.getElementById('neural-particles').appendChild(particle);
      
      setTimeout(() => {
        if (particle.parentNode) {
          particle.remove();
        }
      }, 20000);
    }

    // Initialize neural particles
    function initNeuralParticles() {
      for (let i = 0; i < 15; i++) {
        setTimeout(() => createNeuralParticle(), i * 1000);
      }
      
      setInterval(createNeuralParticle, 2000);
    }

    // Initialize gallery
    function initGallery() {
      // Start with default images
      imageList = [...IMAGE_CONFIG.defaultImages];
      
      // Try to load additional images from various formats
      loadAdditionalImages();
      
      // Create slideshow
      createSlideshow();
      
      // Initialize controls
      initGalleryControls();
      
      // Initialize neural effects
      initNeuralParticles();
    }

    // Load additional images with different formats
    async function loadAdditionalImages() {
      const additionalFormats = ['png', 'gif', 'webp', 'svg', 'bmp', 'tiff', 'arm'];
      
      for (let i = 1; i <= 30; i++) {
        for (const format of additionalFormats) {
          const imagePath = `ACT12_BARUELA/${i}.${format}`;
          
          if (await checkImageExists(imagePath)) {
            imageList.push({
              src: imagePath,
              format: format.toUpperCase()
            });
          }
        }
      }
      
      // Sort images by name
      imageList.sort((a, b) => {
        const aNum = parseInt(a.src.match(/(\d+)/)?.[1] || 0);
        const bNum = parseInt(b.src.match(/(\d+)/)?.[1] || 0);
        return aNum - bNum;
      });
    }

    // Check if image exists
    function checkImageExists(imageSrc) {
      return new Promise((resolve) => {
        const img = new Image();
        img.onload = () => resolve(true);
        img.onerror = () => resolve(false);
        img.src = imageSrc;
        setTimeout(() => resolve(false), 1000);
      });
    }

    // Create slideshow with all loaded images
    function createSlideshow() {
      const slideshow = document.getElementById('main-slideshow');
      const indicatorsContainer = document.getElementById('indicators-container');
      
      // Clear existing content
      const existingSlides = slideshow.querySelectorAll('.slide');
      existingSlides.forEach(slide => slide.remove());
      indicatorsContainer.innerHTML = '';
      
      // Create slides with enhanced effects
      imageList.forEach((imageData, index) => {
        // Create slide image
        const img = document.createElement('img');
        img.src = imageData.src;
        img.alt = `Neural Slide ${index + 1} - ${imageData.format}`;
        img.className = index === 0 ? 'slide active' : 'slide';
        img.dataset.format = imageData.format;
        
        slideshow.appendChild(img);
        
        // Create indicator
        const indicator = document.createElement('span');
        indicator.className = index === 0 ? 'indicator active' : 'indicator';
        indicator.onclick = () => goToSlide(index);
        indicator.setAttribute('aria-label', `Go to neural image ${index + 1}`);
        indicatorsContainer.appendChild(indicator);
      });
      
      // Update counters
      updateImageCounter();
      updateFormatIndicator();
    }

    // Navigation functions with enhanced effects
    function goToSlide(index) {
      if (index < 0 || index >= imageList.length) return;
      
      // Remove active class from current slide and indicator
      document.querySelectorAll('.slide.active').forEach(slide => slide.classList.remove('active'));
      document.querySelectorAll('.indicator.active').forEach(indicator => indicator.classList.remove('active'));
      
      // Set new active slide and indicator
      currentSlide = index;
      const slides = document.querySelectorAll('.slide');
      const indicators = document.querySelectorAll('.indicator');
      
      if (slides[currentSlide]) slides[currentSlide].classList.add('active');
      if (indicators[currentSlide]) indicators[currentSlide].classList.add('active');
      
      updateImageCounter();
      updateFormatIndicator();
      
      // Create particle burst effect
      createParticleBurst();
    }

    function changeSlide(direction) {
      const newIndex = (currentSlide + direction + imageList.length) % imageList.length;
      goToSlide(newIndex);
    }

    // Particle burst effect
    function createParticleBurst() {
      for (let i = 0; i < 5; i++) {
        setTimeout(() => createNeuralParticle(), i * 100);
      }
    }

    // Update image counter with glow effect
    function updateImageCounter() {
      const currentElement = document.getElementById('current-image');
      const totalElement = document.getElementById('total-images');
      
      currentElement.textContent = currentSlide + 1;
      totalElement.textContent = imageList.length;
      
      // Add glow effect
      const counter = document.querySelector('.image-counter-clean');
      counter.style.animation = 'none';
      setTimeout(() => {
        counter.style.animation = 'counterGlow 3s ease-in-out infinite';
      }, 10);
    }

    // Update format indicator with pulse effect
    function updateFormatIndicator() {
      if (imageList[currentSlide]) {
        const formatElement = document.getElementById('current-format');
        formatElement.textContent = imageList[currentSlide].format;
        
        // Add pulse effect
        const indicator = document.querySelector('.format-indicator-clean');
        indicator.style.animation = 'none';
        setTimeout(() => {
          indicator.style.animation = 'formatPulse 2s ease-in-out infinite';
        }, 10);
      }
    }

    // Enhanced fullscreen functionality
    function toggleFullscreen() {
      const slideshow = document.querySelector('.slideshow-clean');
      
      if (!document.fullscreenElement) {
        slideshow.requestFullscreen().catch(err => {
          console.log(`Error attempting to enable fullscreen: ${err.message}`);
        });
      } else {
        document.exitFullscreen();
      }
    }

    // Enhanced download functionality
    function downloadCurrentImage() {
      const currentImg = document.querySelector('.slide.active');
      if (!currentImg) return;
      
      const link = document.createElement('a');
      link.href = currentImg.src;
      link.download = `neural_image_${currentSlide + 1}.${imageList[currentSlide]?.format.toLowerCase() || 'jpg'}`;
      link.click();
      
      // Visual feedback
      createParticleBurst();
    }

    // Initialize everything with enhanced effects
    document.addEventListener('DOMContentLoaded', function() {
      initGallery();
      
      // Add keyboard support
      document.addEventListener('keydown', function(e) {
        switch(e.key) {
          case 'ArrowLeft':
            changeSlide(-1);
            break;
          case 'ArrowRight':
            changeSlide(1);
            break;
          case ' ':
            e.preventDefault();
            toggleSlideshow();
            break;
          case 'f':
          case 'F':
            toggleFullscreen();
            break;
        }
      });
      
      // Add mouse wheel support
      document.addEventListener('wheel', function(e) {
        if (e.target.closest('.slideshow-clean')) {
          e.preventDefault();
          if (e.deltaY > 0) {
            changeSlide(1);
          } else {
            changeSlide(-1);
          }
        }
      });
    });

    // Enhanced video control functions
    function toggleVideo() {
      const video = document.getElementById("urvid");
      const pauseBtn = document.getElementById("pause_button");
      
      if (video.paused) {
        video.play();
        pauseBtn.innerHTML = "PAUSE_VIDEO";
      } else {
        video.pause();
        pauseBtn.innerHTML = "PLAY_VIDEO";
      }
      
      // Visual feedback
      createParticleBurst();
    }

    function toggleSlideshow() {
      const toggleBtn = document.getElementById("slideshow_toggle");
      
      if (isPlaying) {
        clearInterval(autoTimer);
        isPlaying = false;
        toggleBtn.innerHTML = "PLAY_SLIDES";
      } else {
        autoTimer = setInterval(() => changeSlide(1), 4000);
        isPlaying = true;
        toggleBtn.innerHTML = "PAUSE_SLIDES";
      }
      
      // Visual feedback
      createParticleBurst();
    }

    function initGalleryControls() {
      if (isPlaying) {
        autoTimer = setInterval(() => changeSlide(1), 4000);
      }
    }

    // Add touch/swipe support for mobile
    let touchStartX = 0;
    let touchEndX = 0;

    document.addEventListener('touchstart', function(e) {
      touchStartX = e.changedTouches[0].screenX;
    });

    document.addEventListener('touchend', function(e) {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    });

    function handleSwipe() {
      const swipeThreshold = 50;
      const swipeDistance = touchEndX - touchStartX;
      
      if (Math.abs(swipeDistance) > swipeThreshold) {
        if (swipeDistance > 0) {
          changeSlide(-1); // Swipe right - previous
        } else {
          changeSlide(1); // Swipe left - next
        }
      }
    }
  </script>
</body>
</html>
